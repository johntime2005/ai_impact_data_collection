[workspace]
name = "ai-impact-data-collection"
version = "0.1.0"
description = "大模型对IT行业影响的数据采集与分析"
authors = ["Your Name <your.email@example.com>"]
channels = ["conda-forge", "pytorch"]
platforms = ["linux-64", "osx-64", "osx-arm64", "win-64"]

[dependencies]
python = ">=3.10,<3.13"

# HTTP请求（支持HTTP/2，底层使用Rust）
httpx = ">=0.27.0"
requests = ">=2.31.0"  # 备用

# HTML解析（高性能选项）
beautifulsoup4 = ">=4.12.0"
lxml = ">=4.9.0"
html5lib = ">=1.1"
# selectolax = ">=0.3.17"  # 可选：C/Cython实现的快速HTML解析器

# 数据处理 - Rust加速版本
polars = ">=0.20.0"  # Rust实现的DataFrame库，比pandas快数倍
# pandas = ">=2.0.0"  # 备用，如果需要pandas兼容性

# 数据验证（Pydantic v2内部使用Rust的pydantic-core）
pydantic = ">=2.0.0"

# 数值计算
numpy = ">=1.24.0"

# 进度条
tqdm = ">=4.65.0"

# 日期时间处理
python-dateutil = ">=2.8.0"

# 日志（高性能）
loguru = ">=0.7.3,<0.8"

# JSON处理（可选：Rust实现的orjson）
orjson = ">=3.9.0"  # 比标准库json快很多

# 正则表达式（可选：Rust实现的regex）
# regex = ">=2023.0.0"

# Reddit API
praw = ">=7.7.0"  # Python Reddit API Wrapper

# 环境变量管理
python-dotenv = ">=1.0.0"
jupyter = ">=1.1.1,<2"

[tasks]
# 安装项目
install = "pip install -e ."

# 运行数据采集
scrape = "python main.py scrape"

# 数据质量分析
analyze = "python main.py analyze"

# 生成报告
report = "python main.py report"

# 运行完整流程
full = "python main.py full"

# 代码格式化（使用Rust编写的ruff）
lint = "ruff check ."

format = "ruff format ."

[feature.dev.dependencies]
# 开发工具
ipython = ">=8.12.0"
jupyter = ">=1.0.0"
ipykernel = ">=6.0.0"

# 代码质量工具（Rust实现）
ruff = ">=0.1.0"  # 替代flake8/pylint/black

# 可选：浏览器自动化
playwright = ">=1.40.0"
# selenium = ">=4.10.0"

[feature.dev.tasks]
# 启动Jupyter
notebook = "jupyter notebook"

# 代码检查
check = "ruff check . --fix"

# 定义环境（修复警告）
[environments]
default = []
dev = ["dev"]  # 使用dev feature
